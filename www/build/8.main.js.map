{"version":3,"sources":["../../src/pages/comics/comics.module.ts","../../src/pages/comics/comics.ts"],"names":[],"mappings":"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","file":"8.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ComicsPage } from './comics';\n\n@NgModule({\n  declarations: [\n    ComicsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ComicsPage),\n  ],\n  exports: [\n    ComicsPage\n  ]\n})\nexport class ComicsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/comics/comics.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content } from 'ionic-angular';\nimport { pubilcService } from '../../service/public';\nimport { Headers, Http } from '@angular/http';\n\ndeclare var $: any;\ndeclare var document: any;\n@IonicPage()\n@Component({\n  selector: 'page-comics',\n  templateUrl: 'comics.html',\n})\nexport class ComicsPage {\n\n  @ViewChild(Content) content: Content;\n  name = '';\n  uptime = '-';\n  banner = '';\n  url = '';\n  len = '-';\n  cod = '0';\n  iclass = [];\n  dec = '';\n  data = {\n    'pages': []\n  };\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public pubilcService: pubilcService,\n    public http: Http\n  ) {\n    this.name = this.navParams.get('name');\n    this.banner = this.navParams.get('banner');\n    this.url = this.navParams.get('url');\n    this.pubilcService.presentLoadingDefault();\n  }\n\n  //收藏\n  collect() {\n    if (this.pubilcService.user._id) {\n      this.pubilcService.presentLoadingDefault();\n      let url = \"http://www.devonhello.com/buka/collect\";\n\n      var headers = new Headers();\n      headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n      this.http.post(url, \"name=\" + this.pubilcService.user.nickname + \"&uid=\" + this.pubilcService.user._id + \"&bookname=\" + this.name + \"&bookbanner=\" + this.banner + \"&bookpages=\" + this.len + \"&booktime=\" + this.uptime + \"&url=\" + this.url, {\n        headers: headers\n      })\n        .subscribe((res) => {\n          this.pubilcService.presentLoadingDismiss();\n          if (res.json()['result']['ok'] == 1) {\n            alert('ok');\n          } else {\n            alert('err');\n          }\n        });\n    } else {\n      this.navCtrl.push('LoginPage');\n    }\n  }\n\n  openpage(url) {\n\n    this.navCtrl.push('SeePage', {\n      url: url + '?p=1'\n    });\n  }\n\n  ionViewDidLoad() {\n\n    var _thst = this;\n    var link = $(\"<iframe/>\");\n    link.attr('id', 'ikmfs');\n    link.attr('src', this.url);\n    link.appendTo('body');\n\n\n    var oframe = $(\"#ikmfs\");\n    var pages = [];\n    oframe[0].onload = function () {\n\n      var ifobj = oframe.contents();\n      oframe[0].src = 'about:blank';\n      oframe.remove();\n\n      var ele = ifobj.find(\".chapter-list li a\");\n      _thst.banner = ifobj.find(\".thumb img\").attr('src');\n      _thst.dec = ifobj.find(\"#bookIntro\").text();\n      _thst.len = ifobj.find(\"dd\").eq(5).text();\n      _thst.cod = ifobj.find(\"dd\").eq(4).text();\n      _thst.uptime = ifobj.find(\"dd\").eq(6).text();\n      _thst.iclass = ifobj.find(\"dd\").eq(3).text().split('/');\n      ele.each(function () {\n        var iobj = {},\n          ot = $(this);\n        iobj['ititle'] = ot.attr('title');\n        iobj['ihref'] = ot.attr('href');\n        pages.push(iobj);\n      });\n      _thst.data['pages'] = pages;\n      _thst.pubilcService.presentLoadingDismiss();\n\n    };\n\n  }\n\n  ionViewWillLeave() {\n    var ifs = $(\"#ikmfs\");\n    ifs[0].src = 'about:blank';\n    ifs.remove();\n  }\n\n  //点击到顶部\n  tapEvent(e) {\n    this.content.scrollToTop();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/comics/comics.ts"],"sourceRoot":""}